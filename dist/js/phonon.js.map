{"version":3,"file":"phonon.js","sources":["../../src/js/common/events/dispatch.js","../../src/js/common/utils/index.js","../../src/js/common/events/index.js","../../src/js/components/componentManager.js","../../src/js/components/component.js","../../src/js/components/alert/index.js","../../src/js/components/modal/index.js","../../src/js/components/modal/prompt.js","../../src/js/components/modal/confirm.js","../../src/js/components/loader/index.js","../../src/js/components/modal/loader.js","../../src/js/components/notification/index.js","../../src/js/components/collapse/index.js","../../src/js/components/accordion/index.js","../../src/js/components/tab/index.js","../../src/js/components/progress/index.js","../../src/js/components/off-canvas/index.js","../../src/js/components/selectbox/index.js","../../src/js/components/selectbox/search.js","../../src/js/components/dropdown/index.js","../../src/js/common/network/index.js","../../src/js/phonon.js"],"sourcesContent":["export function dispatchWinDocEvent(eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`;\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n\nexport function dispatchElementEvent(domElement, eventName, moduleName, detail = {}) {\n  const fullEventName = `${eventName}.ph.${moduleName}`;\n  domElement.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n\nexport function dispatchPageEvent(eventName, pageName, detail = {}) {\n  const fullEventName = `${pageName}.${eventName}`;\n  window.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n  document.dispatchEvent(new CustomEvent(fullEventName, { detail }));\n}\n","export function generateId() {\n  return Math.random().toString(36).substr(2, 10);\n}\n\nexport function findTargetByClass(target, parentClass) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.classList.contains(parentClass)) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\nexport function findTargetById(target, parentId) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute('id') === parentId) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\nexport function findTargetByAttr(target, attr) {\n  for (; target && target !== document; target = target.parentNode) {\n    if (target.getAttribute(attr) !== null) {\n      return target;\n    }\n  }\n\n  return null;\n}\n\n/* eslint no-param-reassign: 0 */\nexport function createJqueryPlugin($ = null, name, obj) {\n  if (!$) {\n    return;\n  }\n\n  const mainFn = function (options = {}) {\n    const opts = options;\n    if (this[0]) {\n      opts.element = this[0];\n    }\n\n    return obj.DOMInterface(opts);\n  };\n\n  $.fn[name] = mainFn;\n  $.fn[name].Constructor = obj;\n  $.fn[name].noConflict = mainFn;\n}\n\nexport function sleep(timeout) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, timeout);\n  });\n}\n","// @todo keep ?\nif (typeof window !== 'undefined') {\n  window.addEventListener('error', () => {\n    console.error('An error has occured! You can pen an issue here: https://github.com/quark-dev/Phonon-Framework/issues');\n  });\n}\n\n// Use available events\nlet availableEvents = ['mousedown', 'mousemove', 'mouseup'];\nlet touchScreen = false;\n\nif (typeof window !== 'undefined') {\n  if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n    touchScreen = true;\n    availableEvents = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n  }\n\n  if (window.navigator.pointerEnabled) {\n    availableEvents = ['pointerdown', 'pointermove', 'pointerup', 'pointercancel'];\n  } else if (window.navigator.msPointerEnabled) {\n    availableEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel'];\n  }\n}\n\nconst el = document.createElement('div');\nconst transitions = [\n  { name: 'transition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'MozTransition', start: 'transitionstart', end: 'transitionend' },\n  { name: 'msTransition', start: 'msTransitionStart', end: 'msTransitionEnd' },\n  { name: 'WebkitTransition', start: 'webkitTransitionStart', end: 'webkitTransitionEnd' },\n];\nconst animations = [\n  { name: 'animation', start: 'animationstart', end: 'animationend' },\n  { name: 'MozAnimation', start: 'animationstart', end: 'animationend' },\n  { name: 'msAnimation', start: 'msAnimationStart', end: 'msAnimationEnd' },\n  { name: 'WebkitAnimation', start: 'webkitAnimationStart', end: 'webkitAnimationEnd' },\n];\n\nconst transitionStart = transitions.find(t => el.style[t.name] !== undefined).start;\nconst transitionEnd = transitions.find(t => el.style[t.name] !== undefined).end;\nconst animationStart = animations.find(t => el.style[t.name] !== undefined).start;\nconst animationEnd = animations.find(t => el.style[t.name] !== undefined).end;\n\nexport default {\n  // touch screen support\n  TOUCH_SCREEN: touchScreen,\n\n  // network\n  NETWORK_ONLINE: 'online',\n  NETWORK_OFFLINE: 'offline',\n  NETWORK_RECONNECTING: 'reconnecting',\n  NETWORK_RECONNECTING_SUCCESS: 'reconnect.success',\n  NETWORK_RECONNECTING_FAILURE: 'reconnect.failure',\n\n  // user interface states\n  SHOW: 'show',\n  SHOWN: 'shown',\n  HIDE: 'hide',\n  HIDDEN: 'hidden',\n\n  // hash\n  HASH: 'hash',\n\n  // touch, mouse and pointer events polyfill\n  START: availableEvents[0],\n  MOVE: availableEvents[1],\n  END: availableEvents[2],\n  CANCEL: typeof availableEvents[3] === 'undefined' ? null : availableEvents[3],\n\n  // click\n  CLICK: 'click',\n\n  // transitions\n  TRANSITION_START: transitionStart,\n  TRANSITION_END: transitionEnd,\n\n  // animations\n  ANIMATION_START: animationStart,\n  ANIMATION_END: animationEnd,\n\n  // selectbox\n  ITEM_SELECTED: 'itemSelected',\n};\n","\nconst getAttribute = (first, second) => {\n  if (first === '') {\n    return `data-${second}`;\n  }\n  return `data-${first}-${second}`;\n};\n\nexport function setAttributesConfig(element, obj = {}, attrs, start = '') {\n  const keys = Object.keys(obj);\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return;\n    }\n\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      let keyStart = key;\n      if (start !== '') {\n        keyStart = `${start}-${key}`;\n      }\n\n      setAttributesConfig(element, obj[key], attrs, keyStart);\n      return;\n    }\n\n    const attr = getAttribute(start, key);\n    element.setAttribute(attr, obj[key]);\n  });\n}\n\nexport function getAttributesConfig(element, obj = {}, attrs, start = '') {\n  const newObj = Object.assign({}, obj);\n  const keys = Object.keys(obj);\n\n  keys.forEach((key) => {\n    if (start === '' && attrs.indexOf(key) === -1) {\n      // continue with next iteration\n      return;\n    }\n\n    if (obj[key] !== null && obj[key].constructor === Object) {\n      let keyStart = key;\n      if (start !== '') {\n        keyStart = `${start}-${key}`;\n      }\n\n      newObj[key] = getAttributesConfig(element, obj[key], attrs, keyStart);\n      return;\n    }\n\n    // update value\n    let value = obj[key]; // default value\n    const type = typeof value;\n    const attr = getAttribute(start, key);\n    const attrValue = element.getAttribute(attr);\n\n    if (attrValue !== null) {\n      if (type === 'boolean') {\n        // convert string to boolean\n        value = attrValue === 'true';\n      } else if (!Number.isNaN(attrValue)) {\n        value = parseInt(attrValue, 10);\n      } else {\n        value = attrValue;\n      }\n    }\n\n    newObj[key] = value;\n  });\n\n  return newObj;\n}\n\nif (!Array.isArray(document.componentStack)) {\n  document.componentStack = [];\n}\n\nexport default {\n  add(component) {\n    document.componentStack.push(component);\n  },\n  remove(component) {\n    const index = document.componentStack.findIndex(c => Object.is(component, c));\n    if (index > -1) {\n      document.componentStack.splice(index, 1);\n    }\n  },\n  closable(component) {\n    return document.componentStack.length === 0 || Object.is(document.componentStack[document.componentStack.length - 1], component);\n  },\n};\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport { dispatchElementEvent, dispatchWinDocEvent } from '../common/events/dispatch';\nimport { generateId } from '../common/utils/index';\nimport Event from '../common/events';\nimport ComponentManager, { setAttributesConfig, getAttributesConfig } from './componentManager';\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nexport default class Component {\n  constructor(\n    name,\n    version,\n    defaultOptions = {},\n    options = {},\n    optionAttrs = [],\n    supportDynamicElement = false,\n    addToStack = false,\n  ) {\n    this.name = name;\n    this.version = version;\n    this.options = options;\n    this.eventHandlers = [];\n\n    Object.keys(defaultOptions).forEach((prop) => {\n      if (typeof this.options[prop] === 'undefined') {\n        this.options[prop] = defaultOptions[prop];\n      }\n    });\n\n    this.optionAttrs = optionAttrs;\n    this.supportDynamicElement = supportDynamicElement;\n    this.addToStack = addToStack;\n    this.id = generateId();\n\n    const checkElement = !this.supportDynamicElement || this.options.element !== null;\n\n    if (typeof this.options.element === 'string') {\n      this.options.element = document.querySelector(this.options.element);\n    }\n\n    if (checkElement && !this.options.element) {\n      throw new Error(`${this.name}. The element is not a valid HTMLElement.`);\n    }\n\n    this.dynamicElement = this.options.element === null;\n    this.registeredElements = [];\n\n    if (!this.dynamicElement) {\n      /**\n       * if the element exists, we read the data attributes config\n       * then we overwrite existing config keys defined in JavaScript, so that\n       * we keep the following order\n       * [1] default JavaScript configuration of the component\n       * [2] Data attributes configuration\n       * [3] JavaScript configuration\n       */\n      this.updateConfig(this.options);\n    }\n\n    this.addEventsHandler(this.getConfig());\n\n    this.elementListener = event => this.onBeforeElementEvent(event);\n  }\n\n  getConfig(key = null, defaultValue = null) {\n    if (!key) {\n      return this.options;\n    }\n\n    return typeof this.options[key] === 'undefined' ? defaultValue : this.options[key];\n  }\n\n  updateConfig(options) {\n    this.options = Object.assign(\n      this.options,\n      this.assignJsConfig(this.getAttributes(), options),\n    );\n\n    // then, set the new data attributes to the element\n    this.setAttributes();\n  }\n\n  addEventsHandler(options) {\n    const scope = Object.keys(options).reduce((cur, key) => {\n      if (typeof options[key] === 'function') {\n        cur[key] = options[key];\n      }\n\n      return cur;\n    }, {});\n\n    if (Object.keys(scope).length > 0) {\n      this.eventHandlers.push(scope);\n    }\n  }\n\n  assignJsConfig(attrConfig, jsConfig) {\n    const config = attrConfig;\n    this.optionAttrs.forEach((key) => {\n      if (typeof jsConfig[key] !== 'undefined') {\n        config[key] = jsConfig[key];\n      }\n    });\n\n    return config;\n  }\n\n  getVersion() {\n    return this.version;\n  }\n\n  getElement() {\n    return this.options.element;\n  }\n\n  getId() {\n    return this.id;\n  }\n\n  registerElements(elements) {\n    elements.forEach(element => this.registerElement(element));\n  }\n\n  registerElement(element) {\n    element.target.addEventListener(element.event, this.elementListener);\n    this.registeredElements.push(element);\n  }\n\n  unregisterElements() {\n    this.registeredElements.forEach((element) => {\n      this.unregisterElement(element);\n    });\n  }\n\n  unregisterElement(element) {\n    const registeredElementIndex = this.registeredElements\n      .findIndex(el => el.target === element.target && el.event === element.event);\n\n    if (registeredElementIndex > -1) {\n      element.target.removeEventListener(element.event, this.elementListener);\n      this.registeredElements.splice(registeredElementIndex, 1);\n    } else {\n      console.error(`Warning! Unknown registered element: ${element.target} with event: ${element.event}.`);\n    }\n  }\n\n  triggerEvent(eventName, detail = {}, objectEventOnly = false) {\n    if (typeof eventName !== 'string') {\n      throw new Error('The event name is not valid.');\n    }\n\n    if (this.addToStack) {\n      if (eventName === Event.SHOW) {\n        ComponentManager.add(this);\n      } else if (eventName === Event.HIDE) {\n        ComponentManager.remove(this);\n      }\n    }\n\n    // event names can be with dot notation like reconnecting.success\n    const eventNameObject = eventName.split('.').reduce((acc, current, index) => {\n      if (index === 0) {\n        return current;\n      }\n\n      return acc + current.charAt(0).toUpperCase() + current.slice(1);\n    });\n\n    const eventNameAlias = `on${eventNameObject.charAt(0).toUpperCase()}${eventNameObject.slice(1)}`;\n\n    // object event\n    this.eventHandlers.forEach((scope) => {\n      if (typeof scope[eventNameObject] === 'function') {\n        scope[eventNameObject].apply(this, [detail]);\n      }\n\n      if (typeof scope[eventNameAlias] === 'function') {\n        this.options[eventNameAlias].apply(this, [detail]);\n      }\n    });\n\n    if (objectEventOnly) {\n      return;\n    }\n\n    // dom event\n    if (this.options.element) {\n      dispatchElementEvent(this.options.element, eventName, this.name, detail);\n    } else {\n      dispatchWinDocEvent(eventName, this.name, detail);\n    }\n  }\n\n  setAttributes() {\n    if (this.optionAttrs.length > 0) {\n      setAttributesConfig(this.options.element, this.options, this.optionAttrs);\n    }\n  }\n\n  getAttributes() {\n    const options = Object.assign({}, this.options);\n    return getAttributesConfig(this.options.element, options, this.optionAttrs);\n  }\n\n  /**\n   * the preventClosable method manages concurrency between active components.\n   * For example, if there is a shown off-canvas and modal, the last\n   * shown component gains the processing priority\n   */\n  preventClosable() {\n    return this.addToStack && !ComponentManager.closable(this);\n  }\n\n  onBeforeElementEvent(event) {\n    if (this.preventClosable()) {\n      return;\n    }\n\n    this.onElementEvent(event);\n  }\n\n  /**\n   * @emits {Event} emit events registered by the component\n   * @param {Event} event\n   */\n  onElementEvent() {\n    /* eslint class-methods-use-this: 0 */\n  }\n\n  static identifier() {\n    return this.name;\n  }\n\n  static DOMInterface(ComponentClass, options, currentComponents = []) {\n    const el = typeof options.element === 'string' ? document.querySelector(options.element) : options.element;\n    const component = currentComponents.find(c => c.getElement() === el);\n\n    if (component) {\n      component.updateConfig(options);\n      component.addEventsHandler(options);\n      return component;\n    }\n\n    return new ComponentClass(options);\n  }\n}\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport { findTargetByAttr, findTargetByClass, createJqueryPlugin } from '../../common/utils';\n\nconst Alert = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'alert';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    fade: true,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'fade',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Alert extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n      this.onTransition = false;\n    }\n\n    /**\n     * Shows the alert\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (this.options.element.classList.contains('show') && this.getOpacity() !== 0) {\n        return false;\n      }\n\n      this.onTransition = true;\n\n      this.triggerEvent(Event.SHOW);\n\n      const onShow = () => {\n        this.triggerEvent(Event.SHOWN);\n\n        if (this.options.element.classList.contains('fade')) {\n          this.options.element.classList.remove('fade');\n        }\n\n        this.options.element.removeEventListener(Event.TRANSITION_END, onShow);\n        this.onTransition = false;\n      };\n\n      if (this.options.fade && !this.options.element.classList.contains('fade')) {\n        this.options.element.classList.add('fade');\n      }\n\n      this.options.element.classList.add('show');\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onShow);\n\n      if (this.options.element.classList.contains('hide')) {\n        this.options.element.classList.remove('hide');\n      }\n\n      if (!this.options.fade) {\n        onShow();\n      }\n\n      return true;\n    }\n\n    getOpacity() {\n      const { opacity } = window.getComputedStyle(this.options.element);\n      return parseFloat(opacity);\n    }\n\n    /**\n     * Hides the alert\n     * @returns {Boolean}\n     */\n    hide() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (this.getOpacity() === 0) {\n        return false;\n      }\n\n      this.onTransition = true;\n      this.triggerEvent(Event.HIDE);\n\n      const onHide = () => {\n        this.triggerEvent(Event.HIDDEN);\n        this.options.element.removeEventListener(Event.TRANSITION_END, onHide);\n        this.onTransition = false;\n      };\n\n      if (this.options.fade && !this.options.element.classList.contains('fade')) {\n        this.options.element.classList.add('fade');\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onHide);\n\n      if (!this.options.element.classList.contains('hide')) {\n        this.options.element.classList.add('hide');\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        this.options.element.classList.remove('show');\n      }\n\n      if (!this.options.fade) {\n        onHide();\n      }\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Alert, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Alert);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const alerts = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  alerts.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Alert.DOMInterface(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const target = findTargetByAttr(event.target, 'data-dismiss');\n    if (!target) {\n      return;\n    }\n\n    const dataToggleAttr = target.getAttribute('data-dismiss');\n\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const alert = findTargetByClass(event.target, NAME);\n      const id = alert.getAttribute('id');\n      const component = components.find(c => c.getElement().getAttribute('id') === id);\n\n      if (!component) {\n        return;\n      }\n\n      component.hide();\n    }\n  });\n\n  return Alert;\n})(window.$ ? window.$ : null);\n\nexport default Alert;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Event from '../../common/events';\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Modal = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'modal';\n  const VERSION = '2.0.0';\n  const BACKDROP_SELECTOR = 'modal-backdrop';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: null,\n    cancelableKeyCodes: [\n      27, // Escape\n      13, // Enter\n    ],\n    buttons: [\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Modal extends Component {\n    constructor(options = {}, template = null) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, true);\n\n      this.template = template || ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (this.dynamicElement) {\n        this.build();\n      }\n    }\n\n    build() {\n      const builder = document.createElement('div');\n\n      builder.innerHTML = this.template;\n\n      this.options.element = builder.firstChild;\n\n      // title\n      if (this.options.title !== null) {\n        this.options.element.querySelector('.modal-title').innerHTML = this.options.title;\n      }\n\n      // message\n      if (this.options.message !== null) {\n        this.options.element.querySelector('.modal-body').firstChild.innerHTML = this.options.message;\n      } else {\n        // remove paragraph node\n        this.removeTextBody();\n      }\n\n      // buttons\n      if (this.options.buttons !== null && Array.isArray(this.options.buttons)) {\n        if (this.options.buttons.length > 0) {\n          this.options.buttons.forEach((button) => {\n            this.options.element.querySelector('.modal-footer').appendChild(this.buildButton(button));\n          });\n        } else {\n          this.removeFooter();\n        }\n      } else {\n        this.removeFooter();\n      }\n\n      document.body.appendChild(this.options.element);\n\n      this.setAttributes();\n    }\n\n    buildButton(buttonInfo = {}) {\n      const button = document.createElement('button');\n      button.setAttribute('type', 'button');\n      button.setAttribute('class', buttonInfo.class || 'btn');\n      button.setAttribute('data-event', buttonInfo.event);\n      button.innerHTML = buttonInfo.text;\n\n      if (buttonInfo.dismiss) {\n        button.setAttribute('data-dismiss', NAME);\n      }\n\n      return button;\n    }\n\n    buildBackdrop() {\n      const backdrop = document.createElement('div');\n      backdrop.setAttribute('data-id', this.id);\n      backdrop.classList.add(BACKDROP_SELECTOR);\n\n      document.body.appendChild(backdrop);\n    }\n\n    getBackdrop() {\n      return document.querySelector(`.${BACKDROP_SELECTOR}[data-id=\"${this.id}\"]`);\n    }\n\n    removeTextBody() {\n      this.options.element.querySelector('.modal-body').removeChild(this.options.element.querySelector('.modal-body').firstChild);\n    }\n\n    removeFooter() {\n      const footer = this.options.element.querySelector('.modal-footer');\n      this.options.element.querySelector('.modal-content').removeChild(footer);\n    }\n\n    center() {\n      const computedStyle = window.getComputedStyle(this.options.element);\n      const height = computedStyle.height.slice(0, computedStyle.height.length - 2);\n\n      const top = (window.innerHeight / 2) - (height / 2);\n      this.options.element.style.top = `${top}px`;\n    }\n\n    /**\n     * Shows the modal\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.options.element === null) {\n        // build and insert a new DOM element\n        this.build();\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      // add a timeout so that the CSS animation works\n      (async () => {\n        await sleep(20);\n\n        this.triggerEvent(Event.SHOW);\n        this.buildBackdrop();\n\n        // attach event\n        this.attachEvents();\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN);\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShown);\n        };\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShown);\n\n        this.options.element.classList.add('show');\n\n        this.center();\n      })();\n\n      return true;\n    }\n\n    onElementEvent(event) {\n      // keyboard event (escape and enter)\n      if (event.type === 'keyup') {\n        if (this.options.cancelableKeyCodes.find(k => k === event.keyCode)) {\n          this.hide();\n        }\n        return;\n      }\n\n      // backdrop event\n      if (event.type === Event.START) {\n        // hide the modal\n        this.hide();\n        return;\n      }\n\n      // button event\n      if (event.type === 'click') {\n        const eventName = event.target.getAttribute('data-event');\n\n        if (eventName) {\n          this.triggerEvent(eventName);\n        }\n\n        if (event.target.getAttribute('data-dismiss') === NAME) {\n          this.hide();\n        }\n      }\n    }\n\n    /**\n     * Hides the modal\n     * @returns {Boolean}\n     */\n    hide() {\n      if (!this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      this.detachEvents();\n\n      this.options.element.classList.add('hide');\n      this.options.element.classList.remove('show');\n\n      const backdrop = this.getBackdrop();\n\n      const onHidden = () => {\n        document.body.removeChild(backdrop);\n\n        this.options.element.classList.remove('hide');\n\n        this.triggerEvent(Event.HIDDEN);\n\n        backdrop.removeEventListener(Event.TRANSITION_END, onHidden);\n\n        // remove generated modals from the DOM\n        if (this.dynamicElement) {\n          document.body.removeChild(this.options.element);\n          this.options.element = null;\n        }\n      };\n\n      backdrop.addEventListener(Event.TRANSITION_END, onHidden);\n      backdrop.classList.add('fadeout');\n\n      return true;\n    }\n\n    attachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .modal-footer button');\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.registerElement({ target: button, event: 'click' }));\n      }\n\n      // add events if the modal is cancelable\n      // which means the user can hide the modal\n      // by pressing the ESC key or click on the backdrop\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop();\n        this.registerElement({ target: backdrop, event: Event.START });\n        this.registerElement({ target: document, event: 'keyup' });\n      }\n    }\n\n    detachEvents() {\n      const buttons = this.options.element.querySelectorAll('[data-dismiss], .modal-footer button');\n      if (buttons) {\n        Array.from(buttons).forEach(button => this.unregisterElement({ target: button, event: 'click' }));\n      }\n\n      if (this.options.cancelable) {\n        const backdrop = this.getBackdrop();\n        this.unregisterElement({ target: backdrop, event: Event.START });\n        this.unregisterElement({ target: document, event: 'keyup' });\n      }\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Modal, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Modal);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const modals = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  modals.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(new Modal(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.modal.show();\n    }\n  });\n\n  return Modal;\n})(window.$ ? window.$ : null);\n\nexport default Modal;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Prompt = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'prompt';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [\n      {\n        event: 'cancel',\n        text: 'Cancel',\n        dismiss: true,\n        class: 'btn btn-secondary',\n      },\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Prompt extends Modal {\n    constructor(options = {}) {\n      const template = ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n              + '<input class=\"form-control\" type=\"text\" value=\"\">'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (!Array.isArray(options.buttons)) {\n        options.buttons = DEFAULT_PROPERTIES.buttons;\n      }\n\n      super(options, template);\n    }\n\n    /**\n     * Shows the prompt\n     * @returns {Boolean}\n     */\n    show() {\n      super.show();\n      this.attachInputEvent();\n    }\n\n    /**\n     * Hides the prompt\n     * @returns {Boolean}\n     */\n    hide() {\n      super.hide();\n      this.detachInputEvent();\n    }\n\n    getInput() {\n      return this.options.element.querySelector('.form-control');\n    }\n\n    attachInputEvent() {\n      this.registerElement({ target: this.getInput(), event: 'keyup' });\n    }\n\n    detachInputEvent() {\n      this.unregisterElement({ target: this.getInput(), event: 'keyup' });\n    }\n\n    onElementEvent(event) {\n      if (event.target === this.getInput()) {\n        return;\n      }\n\n      super.onElementEvent(event);\n    }\n\n    setInputValue(value = '') {\n      this.getInput().value = value;\n    }\n\n    getInputValue() {\n      return this.getInput().value;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return new Prompt(options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Prompt);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`);\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      if (config.type === NAME) {\n        // prompt\n        components.push(new Prompt(config));\n      }\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.modal.show();\n    }\n  });\n\n  return Prompt;\n})(window.$ ? window.$ : null);\n\nexport default Prompt;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Confirm = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'confirm';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [\n      {\n        event: 'cancel',\n        text: 'Cancel',\n        dismiss: true,\n        class: 'btn btn-secondary',\n      },\n      {\n        event: 'confirm',\n        text: 'Ok',\n        dismiss: true,\n        class: 'btn btn-primary',\n      },\n    ],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Confirm extends Modal {\n    constructor(options = {}) {\n      const opts = options;\n      const template = ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (!Array.isArray(opts.buttons)) {\n        opts.buttons = DEFAULT_PROPERTIES.buttons;\n      }\n\n      super(opts, template);\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return new Confirm(options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Confirm);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`);\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      if (config.type === NAME) {\n        // confirm\n        components.push(new Confirm(config));\n      }\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.modal.show();\n    }\n  });\n\n  return Confirm;\n})(window.$ ? window.$ : null);\n\nexport default Confirm;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { createJqueryPlugin } from '../../common/utils';\nimport Event from '../../common/events';\n\nconst Loader = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    color: null,\n    size: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      // set color\n      const loaderSpinner = this.getSpinner();\n      if (typeof this.options.color === 'string'\n        && !loaderSpinner.classList.contains(`color-${this.options.color}`)) {\n        loaderSpinner.classList.add(`color-${this.options.color}`);\n      }\n\n      this.customSize = this.options.size !== null;\n    }\n\n    getClientSize() {\n      if (!this.customSize) {\n        const size = this.options.element.getBoundingClientRect();\n        return size.height;\n      }\n\n      return this.options.size;\n    }\n\n    getSpinner() {\n      return this.options.element.querySelector('.loader-spinner');\n    }\n\n    show() {\n      if (this.options.element.classList.contains('hide')) {\n        this.options.element.classList.remove('hide');\n      }\n\n      this.triggerEvent(Event.SHOW);\n\n      const size = this.getClientSize();\n      this.options.size = size;\n\n      if (this.customSize) {\n        this.options.element.style.width = `${this.options.size}px`;\n        this.options.element.style.height = `${this.options.size}px`;\n\n        const loaderSpinner = this.getSpinner();\n        loaderSpinner.style.width = `${this.options.size}px`;\n        loaderSpinner.style.height = `${this.options.size}px`;\n      }\n\n      this.triggerEvent(Event.SHOWN);\n\n      return true;\n    }\n\n    animate(startAnimation = true) {\n      if (startAnimation) {\n        this.show();\n      } else {\n        this.hide();\n      }\n\n      const loaderSpinner = this.getSpinner();\n\n      if (startAnimation\n        && !loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.add('loader-spinner-animated');\n        return true;\n      }\n\n      if (!startAnimation\n        && loaderSpinner.classList.contains('loader-spinner-animated')) {\n        loaderSpinner.classList.remove('loader-spinner-animated');\n      }\n\n      return true;\n    }\n\n    hide() {\n      if (!this.options.element.classList.contains('hide')) {\n        this.options.element.classList.add('hide');\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      this.triggerEvent(Event.HIDDEN);\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Loader, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Loader);\n\n  return Loader;\n})(window.$ ? window.$ : null);\n\nexport default Loader;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Modal from './index';\nimport Spinner from '../loader/index';\nimport { getAttributesConfig } from '../componentManager';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Loader = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'loader';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    title: null,\n    message: null,\n    cancelable: true,\n    type: NAME,\n    buttons: [],\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'cancelable',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Loader extends Modal {\n    constructor(options = {}) {\n      const opts = options;\n      const template = ''\n      + '<div class=\"modal\" tabindex=\"-1\" role=\"modal\">'\n        + '<div class=\"modal-inner\" role=\"document\">'\n          + '<div class=\"modal-content\">'\n            + '<div class=\"modal-header\">'\n              + '<h5 class=\"modal-title\"></h5>'\n            + '</div>'\n            + '<div class=\"modal-body\">'\n              + '<p></p>'\n              + '<div class=\"mx-auto text-center\">'\n                + '<div class=\"loader mx-auto d-block\">'\n                  + '<div class=\"loader-spinner\"></div>'\n                + '</div>'\n              + '</div>'\n            + '</div>'\n            + '<div class=\"modal-footer\">'\n            + '</div>'\n          + '</div>'\n        + '</div>'\n      + '</div>';\n\n      if (!Array.isArray(opts.buttons)) {\n        opts.buttons = opts.cancelable ? DEFAULT_PROPERTIES.buttons : [];\n      }\n\n      super(opts, template);\n\n      this.spinner = null;\n    }\n\n    show() {\n      super.show();\n\n      this.spinner = new Spinner({ element: this.getElement().querySelector('.loader') });\n      this.spinner.animate(true);\n    }\n\n    hide() {\n      super.hide();\n\n      this.spinner.animate(false);\n      this.spinner = null;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return new Loader(options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Loader);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const components = [];\n  const modals = document.querySelectorAll(`.${Modal.identifier()}`);\n\n  if (modals) {\n    Array.from(modals).forEach((element) => {\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      if (config.type === NAME) {\n        // loader\n        components.push(new Loader(config));\n      }\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      // remove the focus state of the trigger\n      event.target.blur();\n\n      component.modal.show();\n    }\n  });\n\n  return Loader;\n})(window.$ ? window.$ : null);\n\nexport default Loader;\n","/**\n* --------------------------------------------------------------------------\n* Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n* --------------------------------------------------------------------------\n*/\nimport Event from '../../common/events';\nimport Component from '../component';\nimport { createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Notification = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n  * Constants\n  * ------------------------------------------------------------------------\n  */\n\n  const NAME = 'notification';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    message: '',\n    button: true,\n    timeout: null,\n    background: 'primary',\n    directionX: 'right',\n    directionY: 'top',\n    offsetX: 0,\n    offsetY: 0,\n    appendIn: document.body,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'message',\n    'button',\n    'timeout',\n    'background',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Notification extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, false);\n\n      this.template = ''\n      + '<div class=\"notification\">'\n        + '<div class=\"notification-inner\">'\n          + '<div class=\"message\"></div>'\n          + '<button type=\"button\" class=\"close\" data-dismiss=\"notification\" aria-label=\"Close\">'\n            + '<span aria-hidden=\"true\">&times;</span>'\n          + '</button>'\n        + '</div>'\n      + '</div>';\n\n      if (this.dynamicElement) {\n        this.build();\n      }\n\n      this.timeoutCallback = null;\n    }\n\n    build() {\n      const builder = document.createElement('div');\n\n      builder.innerHTML = this.template;\n\n      this.options.element = builder.firstChild;\n\n      // text message\n      this.options.element.querySelector('.message').innerHTML = this.options.message;\n\n      if (!this.options.button) {\n        this.options.element.querySelector('button').style.display = 'none';\n      }\n\n      this.getConfig('appendIn', DEFAULT_PROPERTIES.appendIn).appendChild(this.options.element);\n      this.setAttributes();\n    }\n\n    setPosition() {\n      const x = this.getConfig('directionX', DEFAULT_PROPERTIES.directionX);\n      const y = this.getConfig('directionY', DEFAULT_PROPERTIES.directionY);\n      const offsetX = this.getConfig('offsetX', DEFAULT_PROPERTIES.offsetX);\n      const offsetY = this.getConfig('offsetY', DEFAULT_PROPERTIES.offsetY);\n\n      const notification = this.options.element;\n      const directions = ['top', 'right', 'bottom', 'left'];\n\n      directions.forEach((d) => {\n        if (notification.classList.contains(d)) {\n          notification.classList.remove(d);\n        }\n      });\n\n      notification.style.marginLeft = '0px';\n      notification.style.marginRight = '0px';\n\n      notification.classList.add(`notification-${x}`);\n      notification.classList.add(`notification-${y}`);\n\n      const activeNotifications = document.querySelectorAll('.notification.show') || [];\n      let totalNotifY = 0;\n      activeNotifications.forEach((n) => {\n        if (notification !== n) {\n          const style = getComputedStyle(n);\n          totalNotifY += n.offsetHeight\n            + parseInt(style.marginTop, 10)\n            + parseInt(style.marginBottom, 10);\n        }\n      });\n\n      notification.style.transform = `translateY(${y === 'top' ? '' : '-'}${totalNotifY}px)`;\n\n      notification.style[`margin${x.replace(/^\\w/, c => c.toUpperCase())}`] = `${offsetX}px`;\n      notification.style[`margin${y.replace(/^\\w/, c => c.toUpperCase())}`] = `${offsetY}px`;\n    }\n\n    /**\n     * Shows the notification\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.options.element === null) {\n        // build and insert a new DOM element\n        this.build();\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      // reset color\n      if (this.options.background) {\n        this.options.element.removeAttribute('class');\n        this.options.element.setAttribute('class', 'notification');\n\n        this.options.element.classList.add(`notification-${this.options.background}`);\n        this.options.element.querySelector('button').classList.add(`btn-${this.options.background}`);\n      }\n\n      this.setPosition();\n\n      if (this.options.button) {\n        // attach the button handler\n        const buttonElement = this.options.element.querySelector('button');\n        this.registerElement({ target: buttonElement, event: 'click' });\n      }\n\n      (async () => {\n        await sleep(20);\n\n        if (Number.isInteger(this.options.timeout) && this.options.timeout > 0) {\n          // if there is a timeout, auto hide the notification\n          this.timeoutCallback = setTimeout(() => {\n            this.hide();\n          }, this.options.timeout + 1);\n        }\n\n        this.options.element.classList.add('show');\n\n        this.triggerEvent(Event.SHOW);\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN);\n          this.options.element.removeEventListener(Event.TRANSITION_END, onShown);\n        };\n\n        this.options.element.addEventListener(Event.TRANSITION_END, onShown);\n      })();\n\n      return true;\n    }\n\n    /**\n     * Hides the notification\n     * @returns {Boolean}\n     */\n    hide() {\n      /*\n      * prevent to close a notification with a timeout\n      * if the user has already clicked on the button\n      */\n      if (this.timeoutCallback) {\n        clearTimeout(this.timeoutCallback);\n        this.timeoutCallback = null;\n      }\n\n      if (!this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      if (this.options.button) {\n        const buttonElement = this.options.element.querySelector('button');\n        this.unregisterElement({ target: buttonElement, event: 'click' });\n      }\n\n      this.options.element.classList.remove('show');\n      this.options.element.classList.add('hide');\n\n      const onHidden = () => {\n        this.options.element.removeEventListener(Event.TRANSITION_END, onHidden);\n        this.options.element.classList.remove('hide');\n\n        this.triggerEvent(Event.HIDDEN);\n\n        if (this.dynamicElement) {\n          document.body.removeChild(this.options.element);\n          this.options.element = null;\n        }\n      };\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onHidden);\n\n      return true;\n    }\n\n    onElementEvent() {\n      this.hide();\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Notification, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Notification);\n\n\n  return Notification;\n})(window.$ ? window.$ : null);\n\nexport default Notification;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport { findTargetByAttr, createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Collapse = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'collapse';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    toggle: false,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Collapse extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      this.onTransition = false;\n\n      // toggle directly\n      if (this.options.toggle) {\n        this.show();\n      }\n    }\n\n    getHeight() {\n      return this.options.element.getBoundingClientRect(this.options.element).height;\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('show')) {\n        return this.hide();\n      }\n\n      return this.show();\n    }\n\n    /**\n     * Shows the collapse\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.onTransition = true;\n\n      this.triggerEvent(Event.SHOW);\n\n      const onCollapsed = () => {\n        this.triggerEvent(Event.SHOWN);\n\n        this.options.element.classList.add('show');\n        this.options.element.classList.remove('collapsing');\n        this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed);\n\n        this.options.element.setAttribute('aria-expanded', true);\n\n        this.onTransition = false;\n\n        // reset the normal height after the animation\n        this.options.element.style.height = 'auto';\n      };\n\n      if (!this.options.element.classList.contains('collapsing')) {\n        this.options.element.classList.add('collapsing');\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed);\n\n      if (!this.isVerticalCollapse()) {\n        // expandableElement\n        this.options.element.classList.add('slide');\n      } else {\n        // get real height\n        const height = this.getHeight();\n\n        this.options.element.style.height = '0px';\n\n        setTimeout(() => {\n          this.options.element.style.height = `${height}px`;\n        }, 20);\n      }\n\n      return true;\n    }\n\n    /**\n     * Hides the collapse\n     * @returns {Boolean}\n     */\n    hide() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (!this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.onTransition = true;\n\n      this.triggerEvent(Event.HIDE);\n\n      const onCollapsed = () => {\n        this.triggerEvent(Event.HIDDEN);\n\n        this.options.element.classList.remove('collapsing');\n        this.options.element.style.height = 'auto';\n        this.options.element.removeEventListener(Event.TRANSITION_END, onCollapsed);\n\n        this.options.element.setAttribute('aria-expanded', false);\n\n        this.onTransition = false;\n      };\n\n      if (!this.isVerticalCollapse()) {\n        if (this.options.element.classList.contains('slide')) {\n          this.options.element.classList.remove('slide');\n        }\n      } else {\n        // transform auto height by real height in px\n        this.options.element.style.height = `${this.options.element.offsetHeight}px`;\n\n        setTimeout(() => {\n          this.options.element.style.height = '0px';\n        }, 20);\n      }\n\n      this.options.element.addEventListener(Event.TRANSITION_END, onCollapsed);\n\n      if (!this.options.element.classList.contains('collapsing')) {\n        this.options.element.classList.add('collapsing');\n      }\n\n      this.options.element.classList.remove('show');\n\n      return true;\n    }\n\n    isVerticalCollapse() {\n      return !this.options.element.classList.contains('collapse-l')\n        && !this.options.element.classList.contains('collapse-r');\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Collapse, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Collapse);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const collapses = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  collapses.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Collapse.DOMInterface(config));\n  });\n\n  document.addEventListener(Event.CLICK, (event) => {\n    const target = findTargetByAttr(event.target, 'data-toggle');\n    if (!target) {\n      return;\n    }\n\n    const dataToggleAttr = target.getAttribute('data-toggle');\n\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      let id = target.getAttribute('data-target') || target.getAttribute('href');\n      id = id.replace('#', '');\n\n      const component = components.find(c => c.getElement().getAttribute('id') === id);\n\n      if (!component) {\n        return;\n      }\n\n      component.toggle();\n    }\n  });\n\n  return Collapse;\n})(window.$ ? window.$ : null);\n\nexport default Collapse;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport Collapse from '../collapse';\nimport { getAttributesConfig } from '../componentManager';\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils';\n\nconst Accordion = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'accordion';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Accordion extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      this.collapses = [];\n\n      const toggles = this.options.element.querySelectorAll(`[data-toggle=\"${NAME}\"]`);\n      Array.from(toggles).forEach((toggle) => {\n        const collapseId = toggle.getAttribute('href');\n        const collapse = document.querySelector(collapseId);\n\n        if (collapse) {\n          this.addCollapse(collapse);\n        }\n      });\n    }\n\n    onElementEvent(event) {\n      const id = event.target.getAttribute('href');\n      const element = document.querySelector(id);\n\n      this.setCollapses(element);\n    }\n\n    addCollapse(element) {\n      const collapse = new Collapse({\n        element,\n      });\n      this.collapses.push(collapse);\n\n      return collapse;\n    }\n\n    getCollapse(element) {\n      let collapse = this.collapses.find(c => c.options.element.getAttribute('id') === element.getAttribute('id'));\n\n      if (!collapse) {\n        // create a new collapse\n        collapse = this.addCollapse();\n      }\n\n      return collapse;\n    }\n\n    getCollapses() {\n      return this.collapses;\n    }\n\n    /**\n     * Shows the collapse element and hides the other active collapse elements\n     * @param {Element} showCollapse\n     * @returns {undefined}\n     */\n    setCollapses(showCollapse) {\n      const collapse = this.getCollapse(showCollapse);\n      this.collapses.forEach((c) => {\n        if (c.options.element.getAttribute('id') !== showCollapse.getAttribute('id')) {\n          c.hide();\n        } else {\n          collapse.toggle();\n        }\n      });\n    }\n\n    /**\n     * Shows the collapse element\n     * @param {(string|Element)} collapseEl\n     * @returns {Boolean}\n     */\n    show(collapseEl) {\n      let collapse = collapseEl;\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl);\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`);\n      }\n\n      this.setCollapses(collapse);\n\n      return true;\n    }\n\n    /**\n     * Hides the collapse element\n     * @param {(string|Element)} collapseEl\n     * @returns {Boolean}\n     */\n    hide(collapseEl) {\n      let collapse = collapseEl;\n      if (typeof collapseEl === 'string') {\n        collapse = document.querySelector(collapseEl);\n      }\n\n      if (!collapse) {\n        throw new Error(`${NAME}. The collapsible ${collapseEl} is an invalid HTMLElement.`);\n      }\n\n      const collapseObj = this.getCollapse(collapse);\n\n      return collapseObj.hide();\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Accordion, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Accordion);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const accordions = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  accordions.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Accordion.DOMInterface(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const collapseId = event.target.getAttribute('data-target') || event.target.getAttribute('href');\n      const collapseEl = document.querySelector(collapseId);\n\n      const accordion = findTargetByClass(event.target, 'accordion');\n\n      if (accordion === null) {\n        return;\n      }\n\n      const accordionId = accordion.getAttribute('id');\n      const component = components.find(c => c.getElement().getAttribute('id') === accordionId);\n\n      if (!component) {\n        return;\n      }\n\n      // if the collapse has been added programmatically, we add it\n      const targetCollapse = component.getCollapses().find(c => c.getElement() === collapseEl);\n      if (!targetCollapse) {\n        component.addCollapse(collapseEl);\n      }\n\n      component.show(collapseId);\n    }\n  });\n\n  return Accordion;\n})(window.$ ? window.$ : null);\n\nexport default Accordion;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport { findTargetByClass, createJqueryPlugin, sleep } from '../../common/utils';\n\nconst Tab = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'tab';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n  const TAB_CONTENT_SELECTOR = '.tab-pane';\n\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Tab extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n    }\n\n    /**\n     * Shows the tab\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      const id = this.options.element.getAttribute('href');\n      const nav = findTargetByClass(this.options.element, 'nav');\n      const navTabs = nav ? nav.querySelectorAll(`[data-toggle=\"${NAME}\"]`) : null;\n\n      if (navTabs) {\n        Array.from(navTabs).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active');\n          }\n          tab.setAttribute('aria-selected', false);\n        });\n      }\n\n      this.options.element.classList.add('active');\n      this.options.element.setAttribute('aria-selected', true);\n\n      const tabContent = document.querySelector(id);\n      const tabContents = tabContent.parentNode.querySelectorAll(TAB_CONTENT_SELECTOR);\n\n      if (tabContents) {\n        Array.from(tabContents).forEach((tab) => {\n          if (tab.classList.contains('active')) {\n            tab.classList.remove('active');\n          }\n        });\n      }\n\n      tabContent.classList.add('showing');\n\n      this.triggerEvent(Event.SHOW);\n\n      const onShowed = () => {\n        tabContent.classList.remove('animate');\n        tabContent.classList.add('active');\n        tabContent.classList.remove('showing');\n\n        this.triggerEvent(Event.SHOWN);\n\n        tabContent.removeEventListener(Event.TRANSITION_END, onShowed);\n      };\n\n      (async () => {\n        await sleep(20);\n        tabContent.addEventListener(Event.TRANSITION_END, onShowed);\n        tabContent.classList.add('animate');\n      })();\n\n      return true;\n    }\n\n    /**\n     * Hides the tab\n     * @returns {Boolean}\n     */\n    hide() {\n      if (!this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      if (this.options.element.classList.contains('active')) {\n        this.options.element.classList.remove('active');\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      this.options.element.setAttribute('aria-selected', false);\n\n      const id = this.options.element.getAttribute('href');\n      const tabContent = document.querySelector(id);\n\n      if (tabContent.classList.contains('active')) {\n        tabContent.classList.remove('active');\n      }\n\n      this.triggerEvent(Event.HIDDEN);\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Tab, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Tab);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const tabs = document.querySelectorAll(`[data-toggle=\"${NAME}\"]`);\n  if (tabs) {\n    Array.from(tabs).forEach((element) => {\n      // const config = {}\n      const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n      config.element = element;\n\n      components.push(Tab.DOMInterface(config));\n    });\n  }\n\n  document.addEventListener('click', (event) => {\n    const dataToggleAttr = event.target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = event.target.getAttribute('href');\n\n      const component = components.find(c => c.getElement().getAttribute('href') === id);\n\n      if (!component) {\n        return;\n      }\n\n      component.show();\n    }\n  });\n\n  return Tab;\n})(window.$ ? window.$ : null);\n\nexport default Tab;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport Event from '../../common/events';\nimport { createJqueryPlugin } from '../../common/utils';\n\nconst Progress = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'progress';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    height: 5,\n    min: 0,\n    max: 100,\n    label: false,\n    striped: false,\n    background: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'height',\n    'min',\n    'max',\n    'label',\n    'striped',\n    'background',\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Progress extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      // set the wanted height\n      this.options.element.style.height = `${this.options.height}px`;\n\n      // set min and max values\n      const progressBar = this.getProgressBar();\n      progressBar.setAttribute('aria-valuemin', `${this.options.min}`);\n      progressBar.setAttribute('aria-valuemax', `${this.options.max}`);\n\n      // set striped\n      if (this.options.striped\n        && !progressBar.classList.contains('progress-bar-striped')) {\n        progressBar.classList.add('progress-bar-striped');\n      }\n\n      // set background\n      if (typeof this.options.background === 'string'\n        && !progressBar.classList.contains(`bg-${this.options.background}`)) {\n        progressBar.classList.add(`bg-${this.options.background}`);\n      }\n    }\n\n    getProgressBar() {\n      return this.options.element.querySelector('.progress-bar');\n    }\n\n    set(value = 0) {\n      const progressBar = this.getProgressBar();\n      const progress = Math.round((value / (this.options.min + this.options.max)) * 100);\n\n      if (value < this.options.min) {\n        console.error(`${NAME}. Warning, ${value} is under min value.`);\n        return false;\n      }\n\n      if (value > this.options.max) {\n        console.error(`${NAME}. Warning, ${value} is above max value.`);\n        return false;\n      }\n\n      progressBar.setAttribute('aria-valuenow', `${value}`);\n\n      // set label\n      if (this.options.label) {\n        progressBar.innerHTML = `${progress}%`;\n      }\n\n      // set percentage\n      progressBar.style.width = `${progress}%`;\n\n      return true;\n    }\n\n    animate(startAnimation = true) {\n      if (!this.options.striped) {\n        console.error(`${NAME}. Animation works only with striped progress.`);\n        return false;\n      }\n\n      const progressBar = this.getProgressBar();\n\n      if (startAnimation\n        && !progressBar.classList.contains('progress-bar-animated')) {\n        progressBar.classList.add('progress-bar-animated');\n      }\n\n      if (!startAnimation\n        && progressBar.classList.contains('progress-bar-animated')) {\n        progressBar.classList.remove('progress-bar-animated');\n      }\n\n      return true;\n    }\n\n    /**\n     * Shows the progress bar\n     * @returns {Boolean}\n     */\n    show() {\n      this.options.element.style.height = `${this.options.height}px`;\n      this.triggerEvent(Event.SHOW);\n      this.triggerEvent(Event.SHOWN);\n\n      return true;\n    }\n\n    /**\n     * Hides the progress bar\n     * @returns {Boolean}\n     */\n    hide() {\n      this.options.element.style.height = '0px';\n      this.triggerEvent(Event.HIDE);\n      this.triggerEvent(Event.HIDDEN);\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Progress, options);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Progress);\n\n  return Progress;\n})(window.$ ? window.$ : null);\n\nexport default Progress;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Event from '../../common/events';\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport { findTargetByAttr, createJqueryPlugin, sleep } from '../../common/utils';\n\nconst OffCanvas = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'offcanvas';\n  const VERSION = '2.0.0';\n  const BACKDROP_SELECTOR = 'offcanvas-backdrop';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    container: document.body,\n    toggle: false,\n    aside: {\n      md: false,\n      lg: true,\n      xl: true,\n    },\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'aside',\n    'toggle',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class OffCanvas extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, true);\n\n      this.currentWidthName = null;\n      this.animate = true;\n      this.showAside = false;\n\n      this.directions = ['left', 'right'];\n\n      const sm = { name: 'sm', media: window.matchMedia('(min-width: 1px)') };\n      const md = { name: 'md', media: window.matchMedia('(min-width: 768px)') };\n      const lg = { name: 'lg', media: window.matchMedia('(min-width: 992px)') };\n      const xl = { name: 'xl', media: window.matchMedia('(min-width: 1200px)') };\n\n      this.sizes = [sm, md, lg, xl].reverse();\n\n      this.checkDirection();\n      this.checkWidth();\n\n      if (this.options.toggle) {\n        this.toggle();\n      }\n\n      window.addEventListener('resize', () => this.checkWidth(), false);\n    }\n\n    checkDirection() {\n      this.directions.every((direction) => {\n        if (this.options.element.classList.contains(`offcanvas-${direction}`)) {\n          this.direction = direction;\n          return false;\n        }\n        return true;\n      });\n    }\n\n    checkWidth() {\n      if (!('matchMedia' in window)) {\n        return;\n      }\n\n      const size = this.sizes.find((size) => {\n        const match = size.media.media.match(/[a-z]?-width:\\s?([0-9]+)/);\n        return match && size.media.matches;\n      });\n\n      if (!size) {\n        return;\n      }\n\n      this.setAside(size.name);\n    }\n\n    setAside(name) {\n      if (this.currentWidthName === name) {\n        return;\n      }\n\n      this.currentWidthName = name;\n\n      const content = this.getConfig('container', DEFAULT_PROPERTIES.container);\n\n      this.showAside = this.options.aside[name] === true;\n\n      if (this.options.aside[name] === true) {\n        if (!content.classList.contains(`offcanvas-aside-${this.direction}`)) {\n          content.classList.add(`offcanvas-aside-${this.direction}`);\n        }\n\n        // avoid animation by setting animate to false\n        this.animate = false;\n        // remove previous backdrop\n        if (this.getBackdrop()) {\n          this.removeBackdrop();\n        }\n\n        // in case of many visible or hidden off-canvas\n        if (this.visibleOffCanvas > 0 && !content.classList.contains('show')) {\n          content.classList.add('show');\n        } else if (this.visibleOffCanvas === 0 && content.classList.contains('show')) {\n          content.classList.remove('show');\n        }\n      } else {\n        if (content.classList.contains(`offcanvas-aside-${this.direction}`)) {\n          content.classList.remove(`offcanvas-aside-${this.direction}`);\n        }\n\n        this.animate = true;\n\n        if (!this.getBackdrop() && this.isVisible()) {\n          this.createBackdrop();\n          this.attachEvents();\n        }\n      }\n    }\n\n    onElementEvent(event) {\n      if (event.type === 'keyup' && event.keyCode !== 27 && event.keyCode !== 13) {\n        return;\n      }\n\n      // hide the offcanvas\n      this.hide();\n    }\n\n    isVisible() {\n      return this.options.element.classList.contains('show');\n    }\n\n    visibleOffCanvas() {\n      const offCanvas = Array.from(document.querySelectorAll(`.${NAME}.show`) || []);\n      return offCanvas.length;\n    }\n\n    /**\n     * Shows the off-canvas\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.triggerEvent(Event.SHOW);\n\n      if (!this.showAside) {\n        this.createBackdrop();\n      }\n\n      // add a timeout so that the CSS animation works\n      (async () => {\n        await sleep(20);\n\n        // attach event\n        this.attachEvents();\n\n        const onShown = () => {\n          this.triggerEvent(Event.SHOWN);\n\n          if (this.animate) {\n            this.options.element.removeEventListener(Event.TRANSITION_END, onShown);\n            this.options.element.classList.remove('animate');\n          }\n        };\n\n        if (this.showAside) {\n          const container = this.getConfig('container', DEFAULT_PROPERTIES.container);\n          if (!container.classList.contains('show')) {\n            container.classList.add('show');\n          }\n        }\n\n        if (this.animate) {\n          this.options.element.addEventListener(Event.TRANSITION_END, onShown);\n          this.options.element.classList.add('animate');\n        } else {\n          // directly trigger the onShown\n          onShown();\n        }\n\n        this.options.element.classList.add('show');\n      })();\n\n      return true;\n    }\n\n    /**\n     * Hides the off-canvas\n     * @returns {Boolean}\n     */\n    hide() {\n      if (!this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.triggerEvent(Event.HIDE);\n\n      this.detachEvents();\n\n      if (this.animate) {\n        this.options.element.classList.add('animate');\n      }\n\n      if (this.showAside) {\n        const container = this.getConfig('container', DEFAULT_PROPERTIES.container);\n        if (container.classList.contains('show')) {\n          container.classList.remove('show');\n        }\n      }\n\n      this.options.element.classList.remove('show');\n\n      if (!this.showAside) {\n        const backdrop = this.getBackdrop();\n\n        const onHidden = () => {\n          if (this.animate) {\n            this.options.element.classList.remove('animate');\n          }\n\n          backdrop.removeEventListener(Event.TRANSITION_END, onHidden);\n          this.triggerEvent(Event.HIDDEN);\n          this.removeBackdrop();\n        };\n\n        backdrop.addEventListener(Event.TRANSITION_END, onHidden);\n        backdrop.classList.add('fadeout');\n      }\n\n      return true;\n    }\n\n    toggle() {\n      if (this.isVisible()) {\n        return this.hide();\n      }\n\n      return this.show();\n    }\n\n    createBackdrop() {\n      const backdrop = document.createElement('div');\n      backdrop.setAttribute('data-id', this.id);\n      backdrop.classList.add(BACKDROP_SELECTOR);\n\n      document.body.appendChild(backdrop);\n    }\n\n    getBackdrop() {\n      return document.querySelector(`.${BACKDROP_SELECTOR}[data-id=\"${this.id}\"]`);\n    }\n\n    removeBackdrop() {\n      const backdrop = this.getBackdrop();\n      if (backdrop) {\n        document.body.removeChild(backdrop);\n      }\n    }\n\n    attachEvents() {\n      Array.from(this.options.element.querySelectorAll('[data-dismiss]') || [])\n        .forEach(button => this.registerElement({ target: button, event: 'click' }));\n\n      if (!this.showAside) {\n        const backdrop = this.getBackdrop();\n        this.registerElement({ target: backdrop, event: Event.START });\n      }\n\n      this.registerElement({ target: document, event: 'keyup' });\n    }\n\n    detachEvents() {\n      const dismissButtons = this.options.element.querySelectorAll('[data-dismiss]');\n\n      if (dismissButtons) {\n        Array.from(dismissButtons).forEach(button => this.unregisterElement({ target: button, event: 'click' }));\n      }\n\n      if (!this.showAside) {\n        const backdrop = this.getBackdrop();\n        this.unregisterElement({ target: backdrop, event: Event.START });\n      }\n\n      this.unregisterElement({ target: document, event: 'keyup' });\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(OffCanvas, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, OffCanvas);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const offCanvas = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  offCanvas.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push({ element, offCanvas: new OffCanvas(config) });\n  });\n\n  document.addEventListener('click', (event) => {\n    const target = findTargetByAttr(event.target, 'data-toggle');\n    if (!target) {\n      return;\n    }\n\n    const dataToggleAttr = target.getAttribute('data-toggle');\n    if (dataToggleAttr && dataToggleAttr === NAME) {\n      const id = target.getAttribute('data-target');\n      const element = document.querySelector(id);\n\n      const component = components.find(c => c.element === element);\n\n      if (!component) {\n        return;\n      }\n\n      target.blur();\n\n      component.offCanvas.toggle();\n    }\n  });\n\n  return OffCanvas;\n})(window.$ ? window.$ : null);\n\nexport default OffCanvas;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport Event from '../../common/events';\nimport { findTargetByClass } from '../../common/utils';\nimport { getAttributesConfig } from '../componentManager';\n\nconst Selectbox = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'selectbox';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    selectable: true,\n    search: false,\n    filterItems: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'selectable',\n    'search',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Selectbox extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n\n      const selected = this.options.element.querySelector('[data-selected]');\n      const item = this.getItemData(selected);\n\n      this.setSelected(item.value, item.text, false);\n    }\n\n    setSelected(value = '', text = null, checkExists = true) {\n      if (!this.options.selectable) {\n        return false;\n      }\n\n      let textDisplay = text;\n      this.options.element.querySelector('.default-text').innerHTML = text;\n      this.options.element.querySelector('input[type=\"hidden\"]').value = value;\n\n      const items = this.options.element.querySelectorAll('.item') || [];\n      let itemFound = false;\n\n      Array.from(items).forEach((item) => {\n        if (item.classList.contains('selected')) {\n          item.classList.remove('selected');\n        }\n\n        const data = this.getItemData(item);\n\n        if (value === data.value) {\n          if (!item.classList.contains('selected')) {\n            item.classList.add('selected');\n          }\n\n          textDisplay = data.text;\n          itemFound = true;\n        }\n      });\n\n      if (checkExists && itemFound) {\n        this.options.element.querySelector('.default-text').innerHTML = textDisplay;\n      } else if (checkExists && !itemFound) {\n        throw new Error(`${NAME}. The value \"${value}\" does not exist in the list of items.`);\n      }\n\n      return true;\n    }\n\n    getSelected() {\n      return this.options.element.querySelector('input[type=\"hidden\"]').value;\n    }\n\n    getItemData(item = null) {\n      let text = '';\n      let value = '';\n\n      if (item) {\n        text = item.getAttribute('data-text') || item.innerHTML;\n\n        const selectedTextNode = item.querySelector('.text');\n        if (selectedTextNode) {\n          text = selectedTextNode.innerHTML;\n        }\n\n        value = item.getAttribute('data-value') || '';\n      }\n\n      return { text, value };\n    }\n\n    onElementEvent(event) {\n      if (event.type === Event.START) {\n        const selectbox = findTargetByClass(event.target, 'selectbox');\n\n        /*\n         * hide the current selectbox only if the event concerns another selectbox\n         * hide also if the user clicks outside a selectbox\n         */\n        if (!selectbox || selectbox !== this.getElement()) {\n          this.hide();\n        }\n      } else if (event.type === 'click') {\n        const item = findTargetByClass(event.target, 'item');\n\n        if (item) {\n          if (item.classList.contains('disabled')) {\n            return;\n          }\n\n          const itemInfo = this.getItemData(item);\n\n          if (this.getSelected() !== itemInfo.value) {\n            // the user selected another value, we dispatch the event\n            this.setSelected(itemInfo.value, itemInfo.text, false);\n            const detail = { item, text: itemInfo.text, value: itemInfo.value };\n            this.triggerEvent(Event.ITEM_SELECTED, detail);\n          }\n\n          this.hide();\n          return;\n        }\n\n        // don't toggle the selectbox if the event concerns headers, dividers\n        const selectboxMenu = findTargetByClass(event.target, 'selectbox-menu');\n        if (selectboxMenu) {\n          return;\n        }\n\n        this.toggle();\n      }\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('active')) {\n        return this.hide();\n      }\n\n      return this.show();\n    }\n\n    /**\n     * Shows the selectbox\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      this.options.element.classList.add('active');\n\n      const selectboxMenu = this.options.element.querySelector('.selectbox-menu');\n\n      // scroll to top\n      selectboxMenu.scrollTop = 0;\n\n      this.triggerEvent(Event.SHOW);\n      this.triggerEvent(Event.SHOWN);\n\n      this.registerElement({ target: selectboxMenu, event: 'click' });\n      this.registerElement({ target: document.body, event: Event.START });\n\n      return true;\n    }\n\n    /**\n     * Hides the selectbox\n     * @returns {Boolean}\n     */\n    hide() {\n      if (!this.options.element.classList.contains('active')) {\n        return false;\n      }\n\n      this.options.element.classList.remove('active');\n\n      this.triggerEvent(Event.HIDE);\n      this.triggerEvent(Event.HIDDEN);\n\n      this.unregisterElement({ target: this.options.element.querySelector('.selectbox-menu'), event: 'click' });\n      this.unregisterElement({ target: document.body, event: Event.START });\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Selectbox, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const selectboxes = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n  selectboxes.filter(d => !d.classList.contains('nav-item')).forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    if (!config.search) {\n      components.push(new Selectbox(config));\n    }\n  });\n\n  document.addEventListener('click', (event) => {\n    const selectboxMenu = findTargetByClass(event.target, 'selectbox-menu');\n    if (selectboxMenu) {\n      return;\n    }\n\n    const selectbox = findTargetByClass(event.target, 'selectbox');\n\n    if (selectbox) {\n      const dataToggleAttr = selectbox.getAttribute('data-toggle');\n      if (dataToggleAttr && dataToggleAttr === NAME && selectbox) {\n        const component = components.find(c => c.getElement() === selectbox);\n\n        if (!component) {\n          return;\n        }\n\n        component.toggle();\n      }\n    }\n  });\n\n  return Selectbox;\n})();\n\nexport default Selectbox;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Selectbox from './index';\nimport { findTargetByClass, createJqueryPlugin } from '../../common/utils';\nimport { getAttributesConfig } from '../componentManager';\n\nconst SelectboxSearch = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = Selectbox.identifier();\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    selectable: true,\n    search: true,\n    filterItems: null,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'selectable',\n    'search',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class SelectboxSearch extends Selectbox {\n    constructor(options = {}) {\n      super(options);\n\n      this.filterItemsHandler = (event) => {\n        const search = event.target.value;\n\n        if (search === '') {\n          this.showItems();\n          return;\n        }\n\n\n        this.getItems().forEach((item) => {\n          const itemEl = item;\n          const fn = typeof this.options.filterItems === 'function' ? this.options.filterItems : this.filterItems;\n\n          if (fn(search, itemEl)) {\n            itemEl.element.style.display = 'block';\n          } else {\n            itemEl.element.style.display = 'none';\n          }\n        });\n      };\n\n      this.getSearchInput().addEventListener('keyup', this.filterItemsHandler);\n    }\n\n    filterItems(search = '', item = {}) {\n      return item.value.indexOf(search) > -1 || item.text.indexOf(search) > -1;\n    }\n\n    getItems() {\n      let items = Array.from(this.options.element.querySelectorAll('.item') || []);\n      items = items.map((item) => {\n        const info = this.getItemData(item);\n        return { text: info.text, value: info.value, element: item };\n      });\n\n      return items;\n    }\n\n    showItems() {\n      this.getItems().forEach((item) => {\n        const i = item;\n        i.element.style.display = 'block';\n      });\n    }\n\n    getSearchInput() {\n      return this.options.element.querySelector('.selectbox-menu input');\n    }\n\n    /**\n     * Hides the search selectbox\n     * @returns {Promise} Promise object represents the completed animation\n     */\n    async hide() {\n      await super.hide();\n\n      // reset the value\n      this.getSearchInput().value = '';\n\n      // show all items\n      this.showItems();\n\n      return true;\n    }\n\n    static DOMInterface(options) {\n      return new SelectboxSearch(options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, SelectboxSearch);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const selectboxes = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  selectboxes.filter(d => !d.classList.contains('nav-item')).forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    if (config.search) {\n      // search\n      components.push(new SelectboxSearch(config));\n    }\n  });\n\n  document.addEventListener('click', (event) => {\n    const selectboxMenu = findTargetByClass(event.target, 'selectbox-menu');\n    if (selectboxMenu) {\n      return;\n    }\n\n    const selectbox = findTargetByClass(event.target, 'selectbox');\n\n    if (selectbox) {\n      const dataToggleAttr = selectbox.getAttribute('data-toggle');\n      if (dataToggleAttr && dataToggleAttr === NAME && selectbox) {\n        const component = components.find(c => c.getElement() === selectbox);\n\n        if (!component) {\n          return;\n        }\n\n        component.toggle();\n      }\n    }\n  });\n\n  return SelectboxSearch;\n})(window.$ ? window.$ : null);\n\nexport default SelectboxSearch;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\nimport Component from '../component';\nimport { getAttributesConfig } from '../componentManager';\nimport Event from '../../common/events';\nimport {\n  findTargetByClass, createJqueryPlugin,\n} from '../../common/utils';\n\nconst Dropdown = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'dropdown';\n  const MENU = 'dropdown-menu';\n  const MENU_ITEM = 'dropdown-item';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    hover: true,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n    'hover',\n  ];\n  const components = [];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Dropdown extends Component {\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, false, false);\n      this.onTransition = false;\n\n\n      if (this.options.hover) {\n        this.registerElement({ target: this.options.element, event: 'mouseover' });\n        this.registerElement({ target: this.options.element, event: 'mouseleave' });\n\n        this.options.element.addEventListener('mouseover', () => {\n          this.show();\n        });\n\n        this.options.element.addEventListener('mouseleave', () => {\n          this.hide();\n        });\n      }\n    }\n\n    onElementEvent(event) {\n      if (event.type === 'mouseover') {\n        this.show();\n        return;\n      }\n\n      if (event.type === 'mouseleave') {\n        this.hide();\n      }\n    }\n\n    /**\n     * Shows the dropdown\n     * @returns {Boolean}\n     */\n    show() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.onTransition = true;\n\n      this.triggerEvent(Event.SHOW);\n\n      const onShow = () => {\n        // dropdown menu\n        this.triggerEvent(Event.SHOWN);\n\n        this.getMenu().removeEventListener(Event.TRANSITION_END, onShow);\n        this.onTransition = false;\n      };\n\n      // dropdown handler\n      this.options.element.classList.add('show');\n\n      const dropdownMenu = this.getMenu();\n\n      dropdownMenu.classList.add('show');\n\n      if (dropdownMenu.clientWidth > this.options.element.clientWidth\n        && !dropdownMenu.classList.contains('force-left')) {\n        // move the caret to the left\n        dropdownMenu.classList.add('force-left');\n      } else if (dropdownMenu.clientWidth < this.options.element.clientWidth\n        && dropdownMenu.classList.contains('force-left')) {\n        // set default position for the caret\n        dropdownMenu.classList.remove('force-left');\n      }\n\n      dropdownMenu.addEventListener(Event.TRANSITION_END, onShow);\n\n      setTimeout(() => {\n        dropdownMenu.classList.add('animate');\n      }, 20);\n\n      return true;\n    }\n\n    getMenu() {\n      return this.options.element.querySelector(`.${MENU}`);\n    }\n\n    toggle() {\n      if (this.options.element.classList.contains('show')) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n\n    /**\n     * Hides the collapse\n     * @returns {Boolean}\n     */\n    hide() {\n      if (this.onTransition) {\n        return false;\n      }\n\n      if (!this.options.element.classList.contains('show')) {\n        return false;\n      }\n\n      this.onTransition = true;\n      this.triggerEvent(Event.HIDE);\n\n      const onHide = () => {\n        // dropdown menu\n        this.getMenu().classList.remove('show');\n\n        this.triggerEvent(Event.HIDDEN);\n        this.getMenu().removeEventListener(Event.TRANSITION_END, onHide);\n        this.onTransition = false;\n      };\n\n      // dropdown handler\n      this.options.element.classList.remove('show');\n\n      this.getMenu().addEventListener(Event.TRANSITION_END, onHide);\n\n      this.getMenu().classList.remove('animate');\n\n      return true;\n    }\n\n    static identifier() {\n      return NAME;\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Dropdown, options, components);\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n  createJqueryPlugin($, NAME, Dropdown);\n\n  /**\n   * ------------------------------------------------------------------------\n   * DOM Api implementation\n   * ------------------------------------------------------------------------\n   */\n  const dropdowns = Array.from(document.querySelectorAll(`.${NAME}`) || []);\n\n  dropdowns.forEach((element) => {\n    const config = getAttributesConfig(element, DEFAULT_PROPERTIES, DATA_ATTRS_PROPERTIES);\n    config.element = element;\n\n    components.push(Dropdown.DOMInterface(config));\n  });\n\n  document.addEventListener('click', (event) => {\n    const dropdown = findTargetByClass(event.target, NAME);\n    const dropdownMenuItem = findTargetByClass(event.target, MENU_ITEM);\n\n    if (dropdown) {\n      const component = components.find(c => c.getElement() === dropdown);\n\n      if (!component) {\n        return;\n      }\n\n      if (dropdownMenuItem) {\n        // click in menu\n        component.hide();\n        return;\n      }\n\n      component.show();\n    }\n  });\n\n  document.addEventListener(Event.START, (event) => {\n    const dropdown = findTargetByClass(event.target, NAME);\n    const activeDropdown = document.querySelector('.dropdown.show');\n\n    if (dropdown || !activeDropdown) {\n      return;\n    }\n\n    const activeComponent = components.find(c => c.getElement() === activeDropdown);\n\n    activeComponent.hide();\n  });\n\n  return Dropdown;\n})(window.$ ? window.$ : null);\n\nexport default Dropdown;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Event from '../events';\nimport Component from '../../components/component';\n\nconst Network = (() => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME = 'network';\n  const VERSION = '2.0.0';\n  const DEFAULT_PROPERTIES = {\n    element: null,\n    initialDelay: 3000,\n    delay: 5000,\n  };\n  const DATA_ATTRS_PROPERTIES = [\n  ];\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Network extends Component {\n    /**\n     * Creates an instance of Network.\n     * @param {{}} [options={}]\n     */\n    constructor(options = {}) {\n      super(NAME, VERSION, DEFAULT_PROPERTIES, options, DATA_ATTRS_PROPERTIES, true, false);\n\n      this.xhr = null;\n      this.checkInterval = null;\n\n      this.setStatus(Event.NETWORK_ONLINE);\n\n      setTimeout(() => {\n        this.startCheck();\n      }, this.options.initialDelay);\n    }\n\n    getStatus() {\n      return this.status;\n    }\n\n    setStatus(status) {\n      this.status = status;\n    }\n\n    startRequest() {\n      this.xhr = new XMLHttpRequest();\n      this.xhr.offline = false;\n\n      const url = `/favicon.ico?_=${new Date().getTime()}`;\n\n      this.triggerEvent(Event.NETWORK_RECONNECTING, { date: new Date() }, false);\n\n      this.xhr.open('HEAD', url, true);\n\n      this.xhr.timeout = this.options.delay - 1;\n      this.xhr.ontimeout = () => {\n        this.xhr.abort();\n        this.xhr = null;\n      };\n\n      this.xhr.onload = () => {\n        this.onUp();\n      };\n      this.xhr.onerror = () => {\n        this.onDown();\n      };\n\n      try {\n        this.xhr.send();\n      } catch (e) {\n        this.onDown();\n      }\n    }\n\n    onUp() {\n      this.triggerEvent(Event.NETWORK_RECONNECTING_SUCCESS, { date: new Date() }, false);\n\n      if (this.getStatus() !== Event.NETWORK_ONLINE) {\n        this.triggerEvent(Event.NETWORK_ONLINE, { date: new Date() }, false);\n      }\n\n      this.setStatus(Event.NETWORK_ONLINE);\n    }\n\n    onDown() {\n      this.triggerEvent(Event.NETWORK_RECONNECTING_FAILURE, { date: new Date() }, false);\n\n      if (this.getStatus() !== Event.NETWORK_OFFLINE) {\n        this.triggerEvent(Event.NETWORK_OFFLINE, { date: new Date() }, false);\n      }\n\n      this.setStatus(Event.NETWORK_OFFLINE);\n    }\n\n    startCheck() {\n      this.stopCheck();\n\n      this.startRequest();\n\n      this.checkInterval = setInterval(() => {\n        this.startRequest();\n      }, this.options.delay);\n    }\n\n    stopCheck() {\n      if (this.checkInterval !== null) {\n        clearInterval(this.checkInterval);\n        this.checkInterval = null;\n      }\n    }\n\n    static DOMInterface(options) {\n      return super.DOMInterface(Network, options);\n    }\n  }\n\n  return Network;\n})();\n\nexport default Network;\n","/**\n * --------------------------------------------------------------------------\n * Licensed under MIT (https://github.com/quark-dev/Phonon-Framework/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// components\nimport Alert from './components/alert';\nimport Modal from './components/modal';\nimport ModalPrompt from './components/modal/prompt';\nimport ModalConfirm from './components/modal/confirm';\nimport ModalLoader from './components/modal/loader';\nimport Notification from './components/notification';\nimport Collapse from './components/collapse';\nimport Accordion from './components/accordion';\nimport Tab from './components/tab';\nimport Progress from './components/progress';\nimport Loader from './components/loader';\nimport OffCanvas from './components/off-canvas';\nimport Selectbox from './components/selectbox';\nimport SelectboxSearch from './components/selectbox/search';\nimport Dropdown from './components/dropdown';\nimport Network from './common/network';\n\nconst api = {};\n\n/**\n * ------------------------------------------------------------------------\n * Network\n * ------------------------------------------------------------------------\n */\napi.network = Network.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Notification\n * ------------------------------------------------------------------------\n */\napi.notification = Notification.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Modal\n * ------------------------------------------------------------------------\n */\n\n// generic\napi.modal = Modal.DOMInterface;\n\n// prompt modal\napi.prompt = ModalPrompt.DOMInterface;\n// confirm modal\napi.confirm = ModalConfirm.DOMInterface;\n// loader modal\napi.modalLoader = ModalLoader.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Collapse\n * ------------------------------------------------------------------------\n */\napi.collapse = Collapse.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Alert\n * ------------------------------------------------------------------------\n */\napi.alert = Alert.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Accordion\n * ------------------------------------------------------------------------\n */\napi.accordion = Accordion.DOMInterface;\n\n\n/**\n * ------------------------------------------------------------------------\n * Tab\n * ------------------------------------------------------------------------\n */\napi.tab = Tab.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Progress\n * ------------------------------------------------------------------------\n */\napi.progress = Progress.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Loader\n * ------------------------------------------------------------------------\n */\napi.loader = Loader.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Off canvas\n * ------------------------------------------------------------------------\n */\napi.offCanvas = OffCanvas.DOMInterface;\n\n/**\n * ------------------------------------------------------------------------\n * Selectbox\n * ------------------------------------------------------------------------\n */\napi.selectbox = (options) => {\n  if (options.search) {\n    // search selectbox\n    return SelectboxSearch.DOMInterface(options);\n  }\n\n  // generic selectbox\n  return Selectbox.DOMInterface(options);\n};\n\n/**\n * ------------------------------------------------------------------------\n * Dropdown\n * ------------------------------------------------------------------------\n */\napi.dropdown = Dropdown.DOMInterface;\n\n\nwindow.phonon = api;\n\nexport default api;\n"],"names":["dispatchWinDocEvent","eventName","moduleName","detail","fullEventName","window","dispatchEvent","CustomEvent","document","dispatchElementEvent","domElement","generateId","Math","random","toString","substr","findTargetByClass","target","parentClass","parentNode","classList","contains","findTargetByAttr","attr","getAttribute","createJqueryPlugin","$","name","obj","mainFn","options","opts","element","DOMInterface","fn","Constructor","noConflict","sleep","timeout","Promise","resolve","setTimeout","addEventListener","console","error","availableEvents","touchScreen","DocumentTouch","navigator","pointerEnabled","msPointerEnabled","el","createElement","transitions","start","end","animations","transitionStart","find","t","style","undefined","transitionEnd","animationStart","animationEnd","TOUCH_SCREEN","NETWORK_ONLINE","NETWORK_OFFLINE","NETWORK_RECONNECTING","NETWORK_RECONNECTING_SUCCESS","NETWORK_RECONNECTING_FAILURE","SHOW","SHOWN","HIDE","HIDDEN","HASH","START","MOVE","END","CANCEL","CLICK","TRANSITION_START","TRANSITION_END","ANIMATION_START","ANIMATION_END","ITEM_SELECTED","first","second","setAttributesConfig","attrs","keys","Object","forEach","key","indexOf","keyStart","setAttribute","getAttributesConfig","newObj","assign","constructor","value","type","attrValue","Number","isNaN","parseInt","Array","isArray","componentStack","add","component","push","remove","index","findIndex","c","is","splice","closable","length","Component","version","defaultOptions","optionAttrs","supportDynamicElement","addToStack","eventHandlers","prop","id","checkElement","querySelector","Error","dynamicElement","registeredElements","updateConfig","addEventsHandler","getConfig","elementListener","event","onBeforeElementEvent","defaultValue","assignJsConfig","getAttributes","setAttributes","scope","reduce","cur","attrConfig","jsConfig","config","elements","registerElement","unregisterElement","registeredElementIndex","removeEventListener","objectEventOnly","Event","ComponentManager","eventNameObject","split","acc","current","charAt","toUpperCase","slice","eventNameAlias","apply","preventClosable","onElementEvent","ComponentClass","currentComponents","getElement","Alert","NAME","VERSION","DEFAULT_PROPERTIES","fade","DATA_ATTRS_PROPERTIES","components","onTransition","getOpacity","triggerEvent","onShow","getComputedStyle","opacity","parseFloat","onHide","alerts","from","querySelectorAll","dataToggleAttr","alert","hide","Modal","BACKDROP_SELECTOR","title","message","cancelable","cancelableKeyCodes","buttons","text","dismiss","class","template","build","builder","innerHTML","firstChild","removeTextBody","button","appendChild","buildButton","removeFooter","body","buttonInfo","backdrop","removeChild","footer","computedStyle","height","top","innerHeight","buildBackdrop","attachEvents","onShown","center","k","keyCode","detachEvents","getBackdrop","onHidden","modals","blur","modal","show","Prompt","attachInputEvent","detachInputEvent","getInput","identifier","Confirm","Loader","color","size","loaderSpinner","getSpinner","customSize","getBoundingClientRect","getClientSize","width","startAnimation","spinner","Spinner","animate","Notification","background","directionX","directionY","offsetX","offsetY","appendIn","timeoutCallback","display","x","y","notification","directions","d","marginLeft","marginRight","activeNotifications","totalNotifY","n","offsetHeight","marginTop","marginBottom","transform","replace","removeAttribute","setPosition","buttonElement","isInteger","clearTimeout","Collapse","toggle","onCollapsed","isVerticalCollapse","getHeight","collapses","Accordion","toggles","collapseId","collapse","addCollapse","setCollapses","showCollapse","getCollapse","collapseEl","collapseObj","accordions","accordion","accordionId","targetCollapse","getCollapses","Tab","TAB_CONTENT_SELECTOR","nav","navTabs","tab","tabContent","tabContents","onShowed","tabs","Progress","min","max","label","striped","progressBar","getProgressBar","progress","round","OffCanvas","container","aside","md","lg","xl","currentWidthName","showAside","sm","media","matchMedia","sizes","reverse","checkDirection","checkWidth","every","direction","match","matches","setAside","content","removeBackdrop","visibleOffCanvas","isVisible","createBackdrop","offCanvas","dismissButtons","Selectbox","selectable","search","filterItems","selected","item","getItemData","setSelected","checkExists","textDisplay","items","itemFound","data","selectedTextNode","selectbox","itemInfo","getSelected","selectboxMenu","scrollTop","selectboxes","filter","SelectboxSearch","filterItemsHandler","showItems","getItems","itemEl","getSearchInput","map","info","i","Dropdown","MENU","MENU_ITEM","hover","getMenu","dropdownMenu","clientWidth","dropdowns","dropdown","dropdownMenuItem","activeDropdown","activeComponent","Network","initialDelay","delay","xhr","checkInterval","setStatus","startCheck","status","XMLHttpRequest","offline","url","Date","getTime","date","open","ontimeout","abort","onload","onUp","onerror","onDown","send","e","getStatus","stopCheck","startRequest","setInterval","clearInterval","api","network","prompt","ModalPrompt","confirm","ModalConfirm","modalLoader","ModalLoader","loader","phonon"],"mappings":"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"}